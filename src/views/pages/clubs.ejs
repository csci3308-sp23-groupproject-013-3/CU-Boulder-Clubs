<%- include ('../partials/head') %>
<%- include ('../partials/menu') %>

<div class="container">
    <div class="container" id="head">
        <h1>CU Boulder Clubs</h1>
    </div>
    <div class="container" id="search">
        <input type="text" class="form-control" id="searchBar" oninput="searchTable()" placeholder="Search for clubs...">
    </div>
    
    <div class="container" id="table">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">Club Name</th>
                    <th scope="col">Description</th>
                    <th scope="col">Category</th>
                    <th scope="col">Website</th>
                </tr>
            </thead>
            <tbody id="clubTable">
                <% clubs.forEach(function(club) { %>
                <tr>
                    <td><%= club.name %></td>
                    <td><%= club.description %></td>
                    <td><%= club.category %></td>
                    <td><a href="<%= club.website %>"><%= club.website %></a></td>
                </tr>
                <% }); %>
            </tbody>
        </table>
    </div>

    <div class="container" id="cards">
        <!-- Display all the clubs in order as cards with three columns -->
        <div class="row">
            <% clubs.forEach(function(club) { %>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header">
                            <h5><%= club.name %></h5>
                        </div>
                        <div class="card-body">
                            <p><%= club.description %></p>
                            <p><%= club.category %></p>
                            <a href="<%= club.website %>"><%= club.website %></a>
                        </div>
                    </div>
                </div>
            <% }); %>
        </div>
    </div>

    <div class="container" id="sortOptions">
        <select class="form-control" id="sort" oninput="sortTable()">
            <option value="name">Name</option>
            <option value="category">Category</option>
        </select>
        <select class="form-control" id="category" oninput="filterTable()">
            <option value="all">All</option>
            <% categories.forEach(function(category) { %>
                <option value="<%= category.name %>"><%= category.name %></option>
            <% }); %>
        </select>
        <input type="checkbox" id="reverse" onclick="sortTable()"> Reverse</input>
        <input type="checkbox" id="cardView" onclick="toggleView()"> Card View</input>
    </div>
    
</div>

<%- include ('../partials/footer') %>