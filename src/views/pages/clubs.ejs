<%- include ('../partials/head') %>
<%- include ('../partials/menu') %>

<div class="container">
    <div class="container" id="head">
        <h1>CU Boulder Clubs</h1>
    </div>
    <div class="container" id="search">
        <input type="text" class="form-control" id="searchBar" onkeyup="searchTable()" placeholder="Search for clubs...">
    </div>
    
    <div class="container" id="table">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">Club Name</th>
                    <th scope="col">Description</th>
                    <th scope="col">Category</th>
                    <th scope="col">Website</th>
                </tr>
            </thead>
            <tbody id="clubTable">
                <% clubs.forEach(function(club) { %>
                <tr>
                    <td><a href="/clubs/<%= club.club_id %>"><%= club.club_name %></a></td>
                    <td><%= club.club_description %></td>
                    <td><%= club.categories %></td>
                    <td><a href="<%= club.website %>"><%= club.website %></a></td>
                </tr>
                <% }); %>
            </tbody>
        </table>
    </div>

    <div class="container" id="cards">
        <!-- Display all the clubs in order as cards with three columns -->
        <div class="row">
            <% clubs.forEach(function(club) { %>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header">
                            <a href="/clubs/<%= club.club_id %>"><h5><%= club.club_name %></h5></a>
                        </div>
                        <div class="card-body">
                            <p><%= club.club_description %></p>
                            <p><%= club.categories %></p>
                            <a href="<%= club.website %>"><%= club.website %></a>
                        </div>
                    </div>
                </div>
            <% }); %>
        </div>
    </div>

    <div class="container" id="sortOptions">
        <select class="form-control" id="sort" oninput="sortTable()">
            <option value="name">Name</option>
            <option value="category">Category</option>
            <option value="members">Members</option>
        </select>
        <select class="form-control" id="category" oninput="filterTable()">
            <option value="ALL" selected>All</option>
            <% for (let i = 0; i < categories.length; i++) { %>
                <option value="<%= categories[i].category_name %>"><%= categories[i].category_name %></option>
            <% } %>
        </select>
        <input class="form-check-input" type="checkbox" id="reverse" onclick="reverseTable()"> Reverse</input>
        <input class="form-check-input" type="checkbox" id="cardView" onclick="toggleView()"> Card View</input>
    </div>
</div>

<%- include ('../partials/footer') %>